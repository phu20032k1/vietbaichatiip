<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Admin - ChatIIP CMS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; }
    body { font-family: system-ui, sans-serif; margin: 0; background: #f3f4f6; }

    .login-box {
      max-width: 420px; margin: 60px auto;
      background: #fff; padding: 20px; border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }
    .field { margin-bottom: 10px; display: flex; flex-direction: column; gap: 4px; }
    input, textarea, select {
      border-radius: 6px; border: 1px solid #e5e7eb;
      padding: 7px 9px; font-size: 14px;
    }

    button { border: none; border-radius: 999px; padding: 7px 16px; cursor: pointer; }
    .btn-primary { background: #111827; color:#fff; }
    .btn-secondary { background: #e5e7eb; }
    .btn-danger { background: #dc2626; color:#fff; }
    .hidden { display: none; }

    #cmsView {
      max-width: 1200px; margin: 20px auto; background: #ffffff;
      padding: 0 0 20px; border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    }

    .cms-header {
      padding: 16px 20px; display: flex; justify-content: space-between;
      border-bottom: 1px solid #e5e7eb;
    }

    .cms-body {
      display: grid; grid-template-columns: minmax(0,2.2fr) minmax(0,1.4fr);
      gap: 16px; padding: 16px 18px 0;
    }

    .box { background: #ffffff; border-radius: 10px;
      border: 1px solid #e5e7eb; overflow: hidden; margin-bottom: 12px; }
    .box-header {
      padding: 8px 12px;
      background: linear-gradient(90deg,#00a38c,#0090c7);
      color: #ffffff; font-weight: 600; font-size: 14px;
    }
    .box-body { padding: 12px; }

    .prop-group { margin-bottom: 10px; font-size: 14px; }
    .prop-group label { display:block; margin-bottom:4px; font-weight:500; }

    .news-item {
      border: 1px solid #e5e7eb; border-radius: 8px;
      padding: 8px 10px; margin-bottom: 6px; background: #f9fafb;
    }

    #toast {
      position: fixed; right: 20px; bottom: 20px;
      background: #16a34a; color: white; padding: 12px 18px;
      border-radius: 8px; display: none;
      font-size: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
  </style>

</head>
<body>

<!-- LOGIN -->
<div id="loginView" class="login-box">
  <h2>ƒêƒÉng nh·∫≠p Admin</h2>
  <div class="field">
    <label>T√†i kho·∫£n</label>
    <input type="email" id="loginEmail">
  </div>
  <div class="field">
    <label>M·∫≠t kh·∫©u</label>
    <input type="password" id="loginPassword">
  </div>
  <button class="btn-primary" id="loginBtn">ƒêƒÉng nh·∫≠p</button>
  <p id="loginMessage" style="color:#dc2626;"></p>
</div>

<!-- CMS -->
<div id="cmsView" class="hidden">

  <div class="cms-header">
    <h1>ChatIIP CMS</h1>
    <button class="btn-secondary" id="logoutBtn">ƒêƒÉng xu·∫•t</button>
  </div>

  <div class="cms-body">

    <!-- LEFT -->
    <div class="left-col">

      <div class="box">
        <div class="box-header">Th√¥ng tin chung</div>
        <div class="box-body">

          <div class="field">
            <label>Ti√™u ƒë·ªÅ:</label>
            <input id="titleInput" type="text">
          </div>

          <div class="field">
            <label>URL tr√¨nh duy·ªát:</label>
            <input id="slugInput" type="text">
          </div>

          <div class="field">
            <label>M√¥ t·∫£:</label>
            <textarea id="subtitleInput"></textarea>
          </div>

          <div class="field">
            <label>Chuy√™n m·ª•c:</label>
            <select id="categoryInput">
              <option value="Root">Root</option>
              <option value="Tin t·ª©c">Tin t·ª©c</option>
              <option value="Th√¥ng b√°o">Th√¥ng b√°o</option>
            </select>
          </div>

        </div>
      </div>

      <div class="box">
        <div class="box-header">N·ªôi dung</div>
        <div class="box-body">
          <textarea id="contentInput"></textarea>
        </div>
      </div>

      <input type="hidden" id="editingId">

      <div class="actions-row">
        <button class="btn-primary" id="saveNewsBtn">ƒêƒÉng</button>
        <button class="btn-secondary" id="resetFormBtn">Xo√° form</button>
      </div>

      <p id="saveMessage"></p>

    </div>

    <!-- RIGHT -->
    <div class="right-col">

      <div class="box">
        <div class="box-header">Thu·ªôc t√≠nh</div>
        <div class="box-body">

          <div class="prop-group">
            <label>H√¨nh minh h·ªça:</label>
            <input id="imgInput" type="text">
          </div>

          <div class="prop-group">
            <label>V·ªã tr√≠:</label>
            <label><input id="homepageCheck" type="checkbox"> Trang ch·ªß</label>
            <label><input id="featuredCheck" type="checkbox"> N·ªïi b·∫≠t</label>
          </div>

          <div class="prop-group">
            <label>H·∫πn gi·ªù ƒëƒÉng tin:</label>
            <!-- üî• S·ª¨A: th√™m ID -->
            <input id="scheduleInput" type="datetime-local">
          </div>

          <div class="prop-group">
            <label>Duy·ªát:</label>
            <!-- üî• S·ª¨A: th√™m ID -->
            <label><input id="approvedYes" type="radio" name="approved" checked> C√≥</label>
            <label><input id="approvedNo" type="radio" name="approved"> Kh√¥ng</label>
          </div>

        </div>
      </div>

      <!-- SEO -->
      <div class="box">
        <div class="box-header">SEO</div>
        <div class="box-body">

          <div class="prop-group">
            <label>PageTitle:</label>
            <input id="pageTitleInput" type="text">
          </div>

          <div class="prop-group">
            <label>PageHeading (H1):</label>
            <input id="pageHeadingInput" type="text">
          </div>

          <div class="prop-group">
            <label>Description:</label>
            <textarea id="pageDescriptionInput"></textarea>
          </div>

          <div class="prop-group">
            <label>Keywords:</label>
            <input id="pageKeywordsInput" type="text">
          </div>

          <div class="prop-group">
            <label>OG Image:</label>
            <input id="ogImageInput" type="text">
          </div>

          <div class="prop-group">
            <label>Canonical URL:</label>
            <input id="canonicalInput" type="text">
          </div>

        </div>
      </div>

      <!-- Danh s√°ch b√†i vi·∫øt -->
      <div class="box">
        <div class="box-header">Danh s√°ch b√†i vi·∫øt</div>
        <div class="box-body">
          <div id="newsListAdmin"></div>
        </div>
      </div>

    </div>

  </div>
</div>

<div id="toast">ƒê√£ l∆∞u b√†i vi·∫øt ‚úî</div>

<!-- TinyMCE -->
<script src="https://cdn.tiny.cloud/1/f6i907pnlns1vqkv5d2srlmk9pkudtb5nc5lebuy0wg77rku/tinymce/6/tinymce.min.js"
        referrerpolicy="origin"></script>

<script>
tinymce.init({
  selector: "#contentInput",
  height: 480
});
</script>

<script src="./admin.js"></script>

</body>
</html>
